{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api-js","../src/index.js"],"sourcesContent":["const apiKey =\n  'live_Er46koKybYqW28gLOCiI46EOwSbW1Of6rmEYmaOYjgdL748hwWdb57JpKIyVtfLR';\n\nexport function fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds', {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  })\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error('Помилка отримання списку порід');\n      }\n      return resp.json();\n    })\n    .catch(err => {\n      console.error(err);\n      throw new Error('Помилка отримання списку порід');\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`,\n    {\n      headers: {\n        'x-api-key': apiKey,\n      },\n    }\n  )\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error('Немає даних для вказаного ідентифікатора породи');\n      }\n      return resp.json();\n    })\n    .then(data => {\n      const catData = data[0];\n      if (!catData) {\n        throw new Error('Немає даних для вказаного ідентифікатора породи');\n      }\n      return catData;\n    })\n    .catch(err => {\n      console.error(err);\n      throw new Error('Помилка отримання інформації про кота за породою');\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api-js';\nimport SlimSelect from 'slim-select';\n\nconst select = document.querySelector('.breed-select');\nconst loaderText = document.querySelector('.loader');\nconst errorText = document.querySelector('.error');\nconst catInfoDiv = document.querySelector('.cat-info');\nerrorText.hidden = true;\n\nnew SlimSelect({\n  select: '.cat-select',\n});\n\nfunction fillInSelect() {\n  loaderText.hidden = false;\n  return fetchBreeds().then(elements => {\n    elements.forEach(({ id, name }) => {\n      const option = document.createElement('option');\n      option.value = id;\n      option.textContent = name;\n      select.add(option);\n      loaderText.hidden = true;\n    });\n  });\n}\n\nfillInSelect()\n  .then()\n  .catch(error => {\n    loaderText.hidden = true;\n    errorText.hidden = false;\n  });\n\nselect.addEventListener('change', onSelectChange);\n\nfunction onSelectChange() {\n  loaderText.hidden = false;\n  const breedId = select.value;\n\n  fetchCatByBreed(breedId)\n    .then(data => {\n      displayCatInfo(data);\n      loaderText.hidden = true;\n    })\n    .catch(error => {\n      errorText.hidden = false;\n      loaderText.hidden = true;\n    });\n}\n\nfunction displayCatInfo(data) {\n  const { url, breeds } = data;\n  const breedInfo = breeds[0];\n\n  const markup = `\n    <img class=\"breed-img\" src=\"${url}\" alt=\"cat\" width=300/>\n    <h2>${breedInfo.name}</h2>\n    <p><strong>Description:</strong> ${breedInfo.description}</p>\n    <p><strong>Temperament:</strong> ${breedInfo.temperament}</p>\n  `;\n\n  catInfoDiv.innerHTML = markup;\n  catInfoDiv.hidden = false;\n}\n"],"names":["apiKey","fetchBreeds","resp","err","fetchCatByBreed","breedId","data","catData","select","loaderText","errorText","catInfoDiv","SlimSelect","fillInSelect","elements","id","name","option","error","onSelectChange","displayCatInfo","url","breeds","breedInfo","markup"],"mappings":"svBAAA,MAAMA,EACJ,wEAEK,SAASC,GAAc,CAC5B,OAAO,MAAM,sCAAuC,CAClD,QAAS,CACP,YAAaD,CACd,CACL,CAAG,EACE,KAAKE,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,gCAAgC,EAElD,OAAOA,EAAK,MAClB,CAAK,EACA,MAAMC,GAAO,CACZ,cAAQ,MAAMA,CAAG,EACX,IAAI,MAAM,gCAAgC,CACtD,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAO,MACL,wDAAwDA,IACxD,CACE,QAAS,CACP,YAAaL,CACd,CACF,CACF,EACE,KAAKE,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,iDAAiD,EAEnE,OAAOA,EAAK,MAClB,CAAK,EACA,KAAKI,GAAQ,CACZ,MAAMC,EAAUD,EAAK,GACrB,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,iDAAiD,EAEnE,OAAOA,CACb,CAAK,EACA,MAAMJ,GAAO,CACZ,cAAQ,MAAMA,CAAG,EACX,IAAI,MAAM,kDAAkD,CACxE,CAAK,CACL,CC5CA,MAAMK,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAa,SAAS,cAAc,WAAW,EACrDD,EAAU,OAAS,GAEnB,IAAIE,EAAW,CACb,OAAQ,aACV,CAAC,EAED,SAASC,GAAe,CACtB,OAAAJ,EAAW,OAAS,GACbR,EAAW,EAAG,KAAKa,GAAY,CACpCA,EAAS,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CACjC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQF,EACfE,EAAO,YAAcD,EACrBR,EAAO,IAAIS,CAAM,EACjBR,EAAW,OAAS,EAC1B,CAAK,CACL,CAAG,CACH,CAEAI,EAAc,EACX,KAAM,EACN,MAAMK,GAAS,CACdT,EAAW,OAAS,GACpBC,EAAU,OAAS,EACvB,CAAG,EAEHF,EAAO,iBAAiB,SAAUW,CAAc,EAEhD,SAASA,GAAiB,CACxBV,EAAW,OAAS,GACpB,MAAMJ,EAAUG,EAAO,MAEvBJ,EAAgBC,CAAO,EACpB,KAAKC,GAAQ,CACZc,EAAed,CAAI,EACnBG,EAAW,OAAS,EAC1B,CAAK,EACA,MAAMS,GAAS,CACdR,EAAU,OAAS,GACnBD,EAAW,OAAS,EAC1B,CAAK,CACL,CAEA,SAASW,EAAed,EAAM,CAC5B,KAAM,CAAE,IAAAe,EAAK,OAAAC,CAAQ,EAAGhB,EAClBiB,EAAYD,EAAO,GAEnBE,EAAS;AAAA,kCACiBH;AAAA,UACxBE,EAAU;AAAA,uCACmBA,EAAU;AAAA,uCACVA,EAAU;AAAA,IAG/CZ,EAAW,UAAYa,EACvBb,EAAW,OAAS,EACtB"}