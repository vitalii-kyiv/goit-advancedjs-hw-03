{"version":3,"file":"commonHelpers.js","sources":["../src/index.js"],"sourcesContent":["const apiKey =\n  'live_Er46koKybYqW28gLOCiI46EOwSbW1Of6rmEYmaOYjgdL748hwWdb57JpKIyVtfLR';\n\nconst select = document.querySelector('.breed-select');\nconst loaderText = document.querySelector('.loader');\nconst errorText = document.querySelector('.error');\nconst catInfoDiv = document.querySelector('.cat-info');\nerrorText.hidden = true;\n\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds', {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  })\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error('Помилка отримання списку порід');\n      }\n      return resp.json();\n    })\n    .catch(err => {\n      console.error(err);\n      throw new Error('Помилка отримання списку порід');\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`,\n    {\n      headers: {\n        'x-api-key': apiKey,\n      },\n    }\n  )\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error('Немає даних для вказаного ідентифікатора породи');\n      }\n      return resp.json();\n    })\n    .then(data => {\n      const catData = data[0];\n      console.log(catData);\n      if (!catData) {\n        throw new Error('Немає даних для вказаного ідентифікатора породи');\n      }\n      return catData;\n    })\n    .catch(err => {\n      console.error(err);\n      throw new Error('Помилка отримання інформації про кота за породою');\n    });\n}\n\nfunction fillInSelect() {\n  return fetchBreeds().then(elements => {\n    elements.forEach(({ id, name }) => {\n      const option = document.createElement('option');\n      option.value = id;\n      option.textContent = name;\n      select.add(option);\n      loaderText.hidden = true;\n    });\n  });\n}\n\nfillInSelect()\n  .then(data => {\n    console.log('Опції додані до списку');\n  })\n  .catch(error => {\n    console.error('Помилка заповнення опцій:', error);\n    errorText.textContent = 'Помилка заповнення опцій: ' + error.message;\n    errorText.hidden = false;\n  });\n\nselect.addEventListener('change', onSelectChange);\n\nfunction onSelectChange(evt) {\n  evt.preventDefault();\n  const breedId = select.value;\n\n  fetchCatByBreed(breedId)\n    .then(data => {\n      displayCatInfo(data);\n    })\n    .catch(error => {\n      console.error('Помилка отримання інформації про кота:', error);\n      errorText.textContent =\n        'Помилка отримання інформації про кота: ' + error.message;\n      errorText.hidden = false;\n    });\n}\n\nfunction displayCatInfo(data) {\n  const { url, breeds } = data;\n  const breedInfo = breeds[0];\n\n  const markup = `\n    <img class=\"breed-img\" src=\"${url}\" alt=\"cat\" />\n    <h2>${breedInfo.name}</h2>\n    <p><strong>Опис:</strong> ${breedInfo.description}</p>\n    <p><strong>Темперамент:</strong> ${breedInfo.temperament}</p>\n  `;\n\n  catInfoDiv.innerHTML = markup;\n  catInfoDiv.hidden = false;\n}\n"],"names":["apiKey","select","loaderText","errorText","catInfoDiv","fetchBreeds","resp","err","fetchCatByBreed","breedId","data","catData","fillInSelect","elements","id","name","option","error","onSelectChange","evt","displayCatInfo","url","breeds","breedInfo","markup"],"mappings":"ssBAAA,MAAMA,EACJ,wEAEIC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAa,SAAS,cAAc,WAAW,EACrDD,EAAU,OAAS,GAEnB,SAASE,GAAc,CACrB,OAAO,MAAM,sCAAuC,CAClD,QAAS,CACP,YAAaL,CACd,CACL,CAAG,EACE,KAAKM,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,gCAAgC,EAElD,OAAOA,EAAK,MAClB,CAAK,EACA,MAAMC,GAAO,CACZ,cAAQ,MAAMA,CAAG,EACX,IAAI,MAAM,gCAAgC,CACtD,CAAK,CACL,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAO,MACL,wDAAwDA,IACxD,CACE,QAAS,CACP,YAAaT,CACd,CACF,CACF,EACE,KAAKM,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,iDAAiD,EAEnE,OAAOA,EAAK,MAClB,CAAK,EACA,KAAKI,GAAQ,CACZ,MAAMC,EAAUD,EAAK,GAErB,GADA,QAAQ,IAAIC,CAAO,EACf,CAACA,EACH,MAAM,IAAI,MAAM,iDAAiD,EAEnE,OAAOA,CACb,CAAK,EACA,MAAMJ,GAAO,CACZ,cAAQ,MAAMA,CAAG,EACX,IAAI,MAAM,kDAAkD,CACxE,CAAK,CACL,CAEA,SAASK,GAAe,CACtB,OAAOP,EAAW,EAAG,KAAKQ,GAAY,CACpCA,EAAS,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CACjC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQF,EACfE,EAAO,YAAcD,EACrBd,EAAO,IAAIe,CAAM,EACjBd,EAAW,OAAS,EAC1B,CAAK,CACL,CAAG,CACH,CAEAU,EAAc,EACX,KAAKF,GAAQ,CACZ,QAAQ,IAAI,wBAAwB,CACxC,CAAG,EACA,MAAMO,GAAS,CACd,QAAQ,MAAM,4BAA6BA,CAAK,EAChDd,EAAU,YAAc,6BAA+Bc,EAAM,QAC7Dd,EAAU,OAAS,EACvB,CAAG,EAEHF,EAAO,iBAAiB,SAAUiB,CAAc,EAEhD,SAASA,EAAeC,EAAK,CAC3BA,EAAI,eAAc,EAClB,MAAMV,EAAUR,EAAO,MAEvBO,EAAgBC,CAAO,EACpB,KAAKC,GAAQ,CACZU,EAAeV,CAAI,CACzB,CAAK,EACA,MAAMO,GAAS,CACd,QAAQ,MAAM,yCAA0CA,CAAK,EAC7Dd,EAAU,YACR,0CAA4Cc,EAAM,QACpDd,EAAU,OAAS,EACzB,CAAK,CACL,CAEA,SAASiB,EAAeV,EAAM,CAC5B,KAAM,CAAE,IAAAW,EAAK,OAAAC,CAAQ,EAAGZ,EAClBa,EAAYD,EAAO,GAEnBE,EAAS;AAAA,kCACiBH;AAAA,UACxBE,EAAU;AAAA,gCACYA,EAAU;AAAA,uCACHA,EAAU;AAAA,IAG/CnB,EAAW,UAAYoB,EACvBpB,EAAW,OAAS,EACtB"}