{"version":3,"file":"commonHelpers.js","sources":["../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_Er46koKybYqW28gLOCiI46EOwSbW1Of6rmEYmaOYjgdL748hwWdb57JpKIyVtfLR';\n\nconst select = document.querySelector('.breed-select');\nconst loaderText = document.querySelector('.loader');\nconst errorText = document.querySelector('.error');\nconst catInfoDiv = document.querySelector('.cat-info');\nerrorText.hidden = true;\n\nconsole.log(select);\n\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(resp => {\n      console.log(resp);\n      if (!resp.ok) {\n        throw new Error();\n      }\n      return resp.json();\n    })\n    .catch(err => console.log(err));\n}\nfetchBreeds().then(resp => console.log(resp)); // віддає масив обєктів\n\nfunction fetchCatByBreed(breedId) {\n  const id = breedId;\n  return fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${id}`)\n    .then(resp => {\n      console.log(resp);\n      if (!resp.ok) {\n        throw new Error();\n      }\n      return resp.json();\n    })\n    .catch(err => console.log(err));\n}\nfetchCatByBreed('acur').then(resp => {\n  console.log(resp);\n});\n\nfunction fillInSelect() {\n  return fetchBreeds().then(elements => {\n    elements.forEach(({ id, name }) => {\n      const option = document.createElement('option');\n      option.value = id;\n      option.textContent = name;\n      select.add(option);\n      loaderText.hidden = true;\n    });\n  });\n}\n\nfillInSelect()\n  .then(data => {\n    console.log('Options added to select');\n  })\n  .catch(error => {\n    console.error('Error filling in options:', error);\n  });\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ name, description, temperament }) => `\n      <img class=\"breed-img\" src=\"unnown\" alt=\"cat\" />\n<h2 class=\"breed-title\">${name}</h2>\n<p class=\"breed-text\">${description}</p>\n<h3 class=\"breed-temperament-title\">Temperament</h3>\n<p class=\"breed-temperament-text\">${temperament}</p>\n  `\n    )\n    .join('');\n}\n\nselect.addEventListener('change', onSelectChange);\n\nfunction onSelectChange(evt) {\n  evt.preventDefault();\n  const breedId = select.value;\n  console.log(breedId);\n\n  fetchBreeds(breedId)\n    .then(data => {\n      displayCatInfo(data);\n    })\n    .catch(error => {\n      console.error('Error fetching cat info:', error);\n    });\n}\n\nfunction displayCatInfo(cat) {\n  const { name, description, temperament, url } = cat;\n\n  const markup = `\n    <img class=\"breed-img\" src=\"${url}\" alt=\"${name} cat\" />\n    <h2 class=\"breed-title\">${name}</h2>\n    <p class=\"breed-text\">${description}</p>\n    <h3 class=\"breed-temperament-title\">Temperament</h3>\n    <p class=\"breed-temperament-text\">${temperament}</p>\n  `;\n\n  catInfoDiv.innerHTML = markup;\n  catInfoDiv.hidden = false;\n}\n"],"names":["axios","select","loaderText","errorText","catInfoDiv","fetchBreeds","resp","err","fetchCatByBreed","breedId","fillInSelect","elements","id","name","option","data","error","onSelectChange","evt","displayCatInfo","cat","description","temperament","url","markup"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAa,SAAS,cAAc,WAAW,EACrDD,EAAU,OAAS,GAEnB,QAAQ,IAAIF,CAAM,EAElB,SAASI,GAAc,CACrB,OAAO,MAAM,qCAAqC,EAC/C,KAAKC,GAAQ,CAEZ,GADA,QAAQ,IAAIA,CAAI,EACZ,CAACA,EAAK,GACR,MAAM,IAAI,MAEZ,OAAOA,EAAK,MAClB,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CACAF,EAAa,EAAC,KAAKC,GAAQ,QAAQ,IAAIA,CAAI,CAAC,EAE5C,SAASE,EAAgBC,EAAS,CAEhC,OAAO,MAAM,wDADFA,GAC8D,EACtE,KAAKH,GAAQ,CAEZ,GADA,QAAQ,IAAIA,CAAI,EACZ,CAACA,EAAK,GACR,MAAM,IAAI,MAEZ,OAAOA,EAAK,MAClB,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CACAC,EAAgB,MAAM,EAAE,KAAKF,GAAQ,CACnC,QAAQ,IAAIA,CAAI,CAClB,CAAC,EAED,SAASI,GAAe,CACtB,OAAOL,EAAW,EAAG,KAAKM,GAAY,CACpCA,EAAS,QAAQ,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,IAAO,CACjC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQF,EACfE,EAAO,YAAcD,EACrBZ,EAAO,IAAIa,CAAM,EACjBZ,EAAW,OAAS,EAC1B,CAAK,CACL,CAAG,CACH,CAEAQ,EAAc,EACX,KAAKK,GAAQ,CACZ,QAAQ,IAAI,yBAAyB,CACzC,CAAG,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,4BAA6BA,CAAK,CACpD,CAAG,EAgBHf,EAAO,iBAAiB,SAAUgB,CAAc,EAEhD,SAASA,EAAeC,EAAK,CAC3BA,EAAI,eAAc,EAClB,MAAMT,EAAUR,EAAO,MACvB,QAAQ,IAAIQ,CAAO,EAEnBJ,EAAmB,EAChB,KAAKU,GAAQ,CACZI,EAAeJ,CAAI,CACzB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CACrD,CAAK,CACL,CAEA,SAASG,EAAeC,EAAK,CAC3B,KAAM,CAAE,KAAAP,EAAM,YAAAQ,EAAa,YAAAC,EAAa,IAAAC,CAAG,EAAKH,EAE1CI,EAAS;AAAA,kCACiBD,WAAaV;AAAA,8BACjBA;AAAA,4BACFQ;AAAA;AAAA,wCAEYC;AAAA,IAGtClB,EAAW,UAAYoB,EACvBpB,EAAW,OAAS,EACtB"}